<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Trash</title>
    <script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
</head>
<body>
<a-scene id="my-view">
    <a-assets>
        <a-asset-item
                id="conveyor"
                src="./assets/scene.gltf"
        ></a-asset-item>
        <a-asset-item
                id="bin"
                src="./assets/sf_bin/scene.gltf"
        ></a-asset-item>
<!--        This was a test to see if we could chnage the color -->
<!--        <a-asset-item id="bin2" src="./assets/bin_test/scene.gltf"></a-asset-item>-->
        <a-asset-item
                id="truck" position="6.18902 -0.0528 -2.94892"
                src="./assets/garbage_truck/scene.gltf"
        ></a-asset-item>
        <a-asset-item
                id="can"
                src="./assets/simple_cola_can/scene.gltf"
        ></a-asset-item>
        <a-asset-item
                id="gray-bin"
                src="./assets/public_bin/scene.gltf"
        ></a-asset-item>
<!--        <a-asset-item id="space" src="./assets/space/scene.gltf"></a-asset-item>-->
        <a-asset-item
                id="bg"
                src="./assets/background/scene.gltf"
        ></a-asset-item>
        <a-asset-item
                id="apple"
                src="./assets/apple/scene.gltf"
        ></a-asset-item>
        <a-asset-item
                id="banana"
                src="./assets/banana_mark_2/scene.gltf"
        ></a-asset-item>
        <a-asset-item
                id="milk"
                src="./assets/milk/scene.gltf"
        ></a-asset-item>
<!--        <a-asset-item id="landscape" src="./assets/forest_path/scene.gltf"></a-asset-item>-->
    </a-assets>

    <a-entity
            light="type: directional; castShadow: false; intensity: 0.7; shadowCameraVisible: false;"
            position="0 5 5.5"
    ></a-entity>
    <a-entity
            light="type: directional; castShadow: false; intensity: 0.7; shadowCameraVisible: false;"
            position="0 1.09 -3"
    ></a-entity>
    <a-entity
            light="type: directional; castShadow: false; intensity: 0.7; shadowCameraVisible: false;"
            position="0 10 -10"
    ></a-entity>
    <a-entity
            light="type: directional; castShadow: false; intensity: 0.7; shadowCameraVisible: false;"
            position="0 10 0"
    ></a-entity>

    <a-entity
            class="trash"
            gltf-model="#can"
            position="10 1.09 -3"
            scale="0.15 0.15 0.15"
            animation="property: position; to: 0 1.09 -3; dur: 13000; easing: linear"
    ></a-entity>
    <a-entity
            class="trash"
            gltf-model="#apple"
            position="10 1.09 -3"
            scale="0.06 0.06 0.06"
            animation="property: position; to: 0 1.09 -3; dur: 17000; easing: linear"
    ></a-entity>
    <a-entity
            class="trash"
            gltf-model="#milk"
            position="10 1.09 -3"
            scale="0.4 0.4 0.4"
            animation="property: position; to: 0 1.09 -3; dur: 23000; easing: linear"
    ></a-entity>
    <a-entity
            id="truck"
            gltf-model="#truck"
            position="10.5 -0.3 -3"
            rotation="0 -180 0"
            scale="0.10 0.10 0.10"
    ></a-entity>
    <a-entity
            gltf-model="#bin"
            position="1.5 0.5 -5.5"
            rotation="0 -180 0"
            scale="0.10 0.10 0.10"
    ></a-entity>
    <a-entity
            gltf-model="#bin"
            position="0 0.5 -6"
            rotation="0 -160 0"
            scale="0.10 0.10 0.10"
    ></a-entity>
    <a-entity
            gltf-model="#gray-bin"
            position="-1.5 0.6 -5.3"
            rotation="0 40 0"
            scale="0.65 0.65 0.65"
    ></a-entity>
    <a-entity
            gltf-model="#conveyor"
            position="5 0 -3"
            rotation="0 90 0"
            scale="1.5 1 2"
    ></a-entity>
    <a-entity
            gltf-model="#conveyor"
            position="1.5 0 -3"
            rotation="0 90 0"
            scale="1.5 1 2"
    ></a-entity>
    <a-entity
            gltf-model="#conveyor"
            position="-2.3 0 -3"
            rotation="0 90 0"
            scale="1.5 1 2"
    ></a-entity>
    <a-entity
            gltf-model="#bg"
            position="4 0 0"
            rotation="0 0 0"
    ></a-entity>
    <a-entity
            gltf-model="#bg"
            position="-4 0 0"
            rotation="0 0 0"
    ></a-entity>
    <a-entity
            gltf-model="#bg"
            position="0 0 4"
            rotation="0 90 0"
            scale="1 1 1"
    ></a-entity>
    <a-plane
            position="0 0 -4"
            rotation="-90 0 0"
            width="50"
            height="50"
            color="gray"
    ></a-plane>
    <a-sky
            id="sky" fog="density: 1.61; color: #197700; far: 998.7" light="type: spot"
            color="#add8e6"
    ></a-sky>
</a-scene>




<script>
    let colors = ['red', 'blue', 'green', 'pink', 'gray', 'black', 'yellow'];
    let trashe = ["#can", "#apple", "#milk"];
    let tmpMax = 0;
    while (tmpMax < 60){
        setInterval(() => {
            tmpMax++;
            let scene = document.getElementById('my-view');
            let trash = document.createElement('a-entity');
            trash.setAttribute('position', '10 1.09 -3');
            trash.setAttribute("animation", "property: position; to: 0 1.09 -3; dur: 17000; easing: linear");
            trash.setAttribute('gltf-model', trashe[Math.floor(Math.random() * trashe.length + 1)]);
            trash.setAttribute('scale', '0.1 0.1 0.1');
            scene.append(trash)
        }, 1000 * 5)
    }


    // let trash = document.getElementById('trash');
    // trash.addEventListener('onClick', () => {
    //     trash.setAttribute('scale', `${Math.floor(Math.random() * 0.5)} ${Math.floor(Math.random() * 0.5)} -${Math.floor(Math.random() * 0.5)} `)
    // });



    // 60(() => {
    //     document.getElementById('sky').setAttribute('color', colors[Math.floor(Math.random() * colors.length + 1)])
    // }, 1000 * 5);

    // setInterval(() => {
    //     document.getElementById('trash').setAttribute('position', `${Math.floor(Math.random() * 10)} ${Math.floor(Math.random() * 5)} -${Math.floor(Math.random() * 10)} `)
    // }, 100)




</script>

</body>
</html>
